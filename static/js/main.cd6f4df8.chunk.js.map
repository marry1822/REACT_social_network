{"version":3,"sources":["redux/dialogsReducer.js","api/api.js","assets/images/user.png","components/Navbar/Navbar.module.css","components/Users/Users.module.css","serviceWorker.js","components/Navbar/Navbar.jsx","utils/objectHelpers.js","redux/usersReducer.js","components/common/paginator/Paginator.jsx","components/Users/User.jsx","components/Users/Users.jsx","redux/usersSelectors.js","components/Users/UsersContainer.jsx","components/Header/Header.jsx","redux/authReducer.js","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","redux/appReducer.js","redux/sidebarReducer.js","redux/reduxStore.js","hoc/withSuspense.js","App.js","index.js","components/common/formsControls/FormsControls.js","components/common/preloader/Preloader.js","components/common/formsControls/FormsControls.module.css","components/common/paginator/Paginator.module.css","components/Header/Header.module.css","utils/validators/validators.js","components/common/preloader/Preloader.module.css","redux/profileReducer.js"],"names":["initialState","dialogs","id","name","avatarSrc","messages","message","newMessageText","addMessageActionCreator","newMessageBody","type","dialogsReducer","state","action","instance","axios","create","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","follow","userId","post","unfollow","delete","getProfile","console","warn","profileAPI","getStatus","updateStatus","status","put","authAPI","me","profile","login","email","password","rememberMe","logout","module","exports","Boolean","window","location","hostname","match","Navbar","props","className","classes","nav","navItem","to","activeClassName","active","friends","src","alt","updateObjectInArray","items","itemId","objPropName","newObjProps","map","item","users","totalUsersCount","isFetching","followingInProgress","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleIsFollowingInProgress","followUnfollowFlow","dispatch","userID","apiMethod","actionCreator","a","resultCode","usersReducer","followed","filter","Paginator","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionBoundary","rightPortionBoundary","paginator","onClick","page","e","selectedPage","key","User","user","userAvatar","photos","small","userPhoto","disabled","some","userInfo","fullName","Users","mainContainer","createSelector","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","pageNumber","requestUsers","this","Preloader","React","Component","compose","connect","bind","totalCount","Header","header","loginBlock","isAuth","loginInfo","userImg","setAuthUserData","payload","getAuthUserData","authReducer","HeaderContainer","auth","LoginReduxForm","reduxForm","form","handleSubmit","error","onSubmit","CreateField","required","Input","formSummaryError","length","stopSubmit","_error","formData","initialized","appReducer","sidebarReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","sideBar","formReducer","app","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","__store__","withSuspense","fallback","DialogsContainer","lazy","ProfileContainer","App","initializeApp","path","render","AppContainer","withRouter","MainApp","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","FormControl","input","meta","touched","children","hasError","formControl","Textarea","restProps","placeholder","validators","component","text","validate","ldsSpinner","preloader","value","maxLengthCreator","maxLength","posts","likeCounts","addPostActionCreator","newPostText","setStatus","getUserProfile","newPost","postId"],"mappings":"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","file":"static/js/main.cd6f4df8.chunk.js","sourcesContent":["const ADD_MESSAGE = \"ADD-MESSAGE\";\n\nlet initialState = {\n\tdialogs: [\n\t\t{\n\t\t\tid: 1,\n\t\t\tname: \"Masha\",\n\t\t\tavatarSrc:\n\t\t\t\t\"https://fotograf-kuchin.ru/wp-content/uploads/2017/06/people.png\",\n\t\t},\n\t\t{\n\t\t\tid: 2,\n\t\t\tname: \"Misha\",\n\t\t\tavatarSrc:\n\t\t\t\t\"https://www.shareicon.net/data/256x256/2016/05/26/771188_man_512x512.png\",\n\t\t},\n\t\t{\n\t\t\tid: 3,\n\t\t\tname: \"Dasha\",\n\t\t\tavatarSrc:\n\t\t\t\t\"https://fotograf-kuchin.ru/wp-content/uploads/2017/06/people.png\",\n\t\t},\n\t\t{\n\t\t\tid: 4,\n\t\t\tname: \"Sasha\",\n\t\t\tavatarSrc:\n\t\t\t\t\"https://static.tildacdn.com/tild3966-6236-4137-b163-633865346433/flat-faces-icons-cir.png\",\n\t\t},\n\t\t{\n\t\t\tid: 5,\n\t\t\tname: \"Pasha\",\n\t\t\tavatarSrc:\n\t\t\t\t\"https://thumb.tildacdn.com/tild6464-6261-4662-b038-333831326134/-/resize/160x/-/format/webp/man1.png\",\n\t\t},\n\t],\n\tmessages: [\n\t\t{ id: 1, message: \"Hi!\" },\n\t\t{ id: 2, message: \"How are you?\" },\n\t\t{ id: 3, message: \"What's your name?\" },\n\t\t{ id: 4, message: \"How's the weather?\" },\n\t\t{ id: 5, message: \"How old are you?\" },\n\t],\n\tnewMessageText: \"\",\n};\nconst dialogsReducer = (state = initialState, action) => {\n\tswitch (action.type) {\n\t\tcase ADD_MESSAGE:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tmessages: [\n\t\t\t\t\t...state.messages,\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 6,\n\t\t\t\t\t\tmessage: action.newMessageBody,\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t};\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n\nexport const addMessageActionCreator = (newMessageBody) => ({\n\ttype: ADD_MESSAGE,\n\tnewMessageBody\n});\n\n\nexport default dialogsReducer;\n","import axios from \"axios\";\n\nconst instance = axios.create({\n\twithCredentials: true,\n\tbaseURL: \"https://social-network.samuraijs.com/api/1.0/\",\n\theaders: {\n\t\t\"api-key\": \"09d26bbe-8811-4425-a8f5-daaa2d38666d\",\n\t},\n});\n\nexport const usersAPI = {\n\tgetUsers(currentPage = 1, pageSize = 10) {\n\t\treturn instance\n\t\t\t.get(`users?page=${currentPage}&count=${pageSize}`)\n\t\t\t.then((response) => response.data);\n\t},\n\tfollow(userId) {\n\t\treturn instance\n\t\t\t.post(`follow/${userId}`, {})\n\t\t\t.then((response) => response.data);\n\t},\n\tunfollow(userId) {\n\t\treturn instance\n\t\t\t.delete(`follow/${userId}`)\n\t\t\t.then((response) => response.data);\n\t},\n\tgetProfile(userId) {\n\t\tconsole.warn(\"Outdated method. Please, use profileAPI object\");\n\t\treturn profileAPI.getProfile(userId);\n\t},\n};\n\nexport const profileAPI = {\n\tgetProfile(userId) {\n\t\treturn instance.get(`profile/${userId}`);\n\t},\n\tgetStatus(userId) {\n\t\treturn instance.get(`profile/status/${userId}`);\n\t},\n\tupdateStatus(status) {\n\t\treturn instance.put(`profile/status`, { status: status });\n\t},\n};\n\nexport const authAPI = {\n\tme() {\n\t\treturn instance.get(\"auth/me\");\n\t},\n\tprofile(userId) {\n\t\treturn instance.get(`profile/${userId}`);\n\t},\n\tlogin(email, password, rememberMe = false) {\n\t\treturn instance.post(`auth/login`, { email, password, rememberMe });\n\t},\n\tlogout() {\n\t\treturn instance.delete(`auth/login`);\n\t},\n};\n","module.exports = __webpack_public_path__ + \"static/media/user.f4f3dd7a.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__2imOE\",\"navItem\":\"Navbar_navItem__16nSi\",\"active\":\"Navbar_active__3mbhk\",\"friends\":\"Navbar_friends__3-QW_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user\":\"Users_user__1dQYj\",\"userAvatar\":\"Users_userAvatar__1bfJN\",\"userInfo\":\"Users_userInfo__21fTd\",\"fullName\":\"Users_fullName__149Dv\",\"status\":\"Users_status__E0SMG\",\"location\":\"Users_location__1IQvC\",\"mainContainer\":\"Users_mainContainer__BMli8\"};","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport classes from \"./Navbar.module.css\";\nimport { NavLink } from \"react-router-dom\";\n\nconst Navbar = (props) => {\n\treturn (\n\t\t<nav className={classes.nav}>\n\t\t\t<div className={classes.navItem}>\n\t\t\t\t<NavLink to=\"/profile\" activeClassName={classes.active}>My profile</NavLink>\n\t\t\t</div>\n\t\t\t<div className={classes.navItem}>\n\t\t\t\t<NavLink to=\"/dialogs\" activeClassName={classes.active}>Messages</NavLink>\n\t\t\t</div>\n\t\t\t<div className={classes.navItem}>\n\t\t\t\t<NavLink to=\"/users\" activeClassName={classes.active}>Users</NavLink>\n\t\t\t</div>\n\t\t\t<div className={classes.navItem}>\n\t\t\t\t<NavLink to=\"/news\" activeClassName={classes.active}>News</NavLink>\n\t\t\t</div>\n\t\t\t<div className={classes.navItem}>\n\t\t\t\t<NavLink to=\"/music\" activeClassName={classes.active}>Music</NavLink>\n\t\t\t</div>\n\t\t\t<div className={classes.navItem}>\n\t\t\t\t<NavLink to=\"/settings\" activeClassName={classes.active}>Settings</NavLink>\n\t\t\t</div>\n\t\t\t<div className={classes.friends}>\n\t\t\t<img src=\"\" alt=\"avatar\"/>\n\t\t\t<span></span>\n\t\t\t</div>\n\t\t</nav>\n\t);\n};\n\nexport default Navbar;\n","export const updateObjectInArray = (\n\titems,\n\titemId,\n\tobjPropName,\n\tnewObjProps\n) => {\n\treturn items.map((item) => {\n\t\tif (item[objPropName] === itemId) {\n\t\t\treturn { ...item, ...newObjProps };\n\t\t}\n\t\treturn item;\n\t});\n};\n","import { usersAPI } from \"../api/api\";\nimport { updateObjectInArray } from \"../utils/objectHelpers\";\n\nconst FOLLOW = \"FOLLOW\";\nconst UNFOLLOW = \"UNFOLLOW\";\nconst SET_USERS = \"SET_USERS\";\nconst SET_CURRENT_PAGE = \"SET_CURRENT_PAGE\";\nconst SET_TOTAL_USERS_COUNT = \"SET_TOTAL_USERS_COUNT\";\nconst TOGGLE_IS_FETCHING = \"TOGGLE_IS_FETCHING\";\nconst TOGGLE_IS_FOLLOWING_IN_PROGRESS = \"TOGGLE_IS_FOLLOWING_IN_PROGRESS\";\n\nlet initialState = {\n\tusers: [],\n\tpageSize: 10,\n\ttotalUsersCount: 0,\n\tcurrentPage: 1,\n\tisFetching: true,\n\tfollowingInProgress: [2, 3],\n};\n\nconst usersReducer = (state = initialState, action) => {\n\tswitch (action.type) {\n\t\tcase FOLLOW:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t// users: state.users.map((user) => {\n\t\t\t\t// \tif (user.id === action.userId) {\n\t\t\t\t// \t\treturn { ...user, followed: true };\n\t\t\t\t// \t}\n\t\t\t\t// \treturn user;\n\t\t\t\t// }),\n\t\t\t\tusers: updateObjectInArray(state.users, action.userId, \"id\", {\n\t\t\t\t\tfollowed: true,\n\t\t\t\t}),\n\t\t\t};\n\t\tcase UNFOLLOW:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tusers: updateObjectInArray(state.users, action.userId, \"id\", {\n\t\t\t\t\tfollowed: false,\n\t\t\t\t}),\n\t\t\t};\n\t\tcase SET_USERS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tusers: action.users,\n\t\t\t};\n\t\tcase SET_CURRENT_PAGE:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcurrentPage: action.currentPage,\n\t\t\t};\n\t\tcase SET_TOTAL_USERS_COUNT:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttotalUsersCount: action.totalUsersCount,\n\t\t\t};\n\t\tcase TOGGLE_IS_FETCHING:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisFetching: action.isFetching,\n\t\t\t};\n\t\tcase TOGGLE_IS_FOLLOWING_IN_PROGRESS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tfollowingInProgress: action.isFetching\n\t\t\t\t\t? [...state.followingInProgress, action.userId]\n\t\t\t\t\t: state.followingInProgress.filter((id) => id !== action.userId),\n\t\t\t};\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n\nexport const followSuccess = (userId) => ({\n\ttype: \"FOLLOW\",\n\tuserId,\n});\nexport const unfollowSuccess = (userId) => ({\n\ttype: \"UNFOLLOW\",\n\tuserId,\n});\nexport const setUsers = (users) => ({\n\ttype: \"SET_USERS\",\n\tusers,\n});\nexport const setCurrentPage = (currentPage) => ({\n\ttype: \"SET_CURRENT_PAGE\",\n\tcurrentPage,\n});\nexport const setTotalUsersCount = (totalUsersCount) => ({\n\ttype: \"SET_TOTAL_USERS_COUNT\",\n\ttotalUsersCount,\n});\nexport const toggleIsFetching = (isFetching) => ({\n\ttype: \"TOGGLE_IS_FETCHING\",\n\tisFetching,\n});\nexport const toggleIsFollowingInProgress = (isFetching, userId) => ({\n\ttype: \"TOGGLE_IS_FOLLOWING_IN_PROGRESS\",\n\tisFetching,\n\tuserId,\n});\n\nexport const requestUsers = (page, pageSize) => {\n\treturn async (dispatch) => {\n\t\tdispatch(toggleIsFetching(true));\n\t\tdispatch(setCurrentPage(page));\n\n\t\tconst response = await usersAPI.getUsers(page, pageSize);\n\t\tdispatch(toggleIsFetching(false));\n\t\tdispatch(setUsers(response.items));\n\t\tdispatch(setTotalUsersCount(response.totalCount));\n\t};\n};\n\nconst followUnfollowFlow = async (\n\tdispatch,\n\tuserID,\n\tapiMethod,\n\tactionCreator\n) => {\n\tdispatch(toggleIsFollowingInProgress(true, userID));\n\tconst response = await apiMethod(userID);\n\tif (response.resultCode === 0) {\n\t\tdispatch(actionCreator(userID));\n\t}\n\tdispatch(toggleIsFollowingInProgress(false, userID));\n};\n\nexport const follow = (userID) => {\n\treturn async (dispatch) => {\n\t\tfollowUnfollowFlow(\n\t\t\tdispatch,\n\t\t\tuserID,\n\t\t\tusersAPI.follow.bind(usersAPI),\n\t\t\tfollowSuccess\n\t\t);\n\t};\n};\n\nexport const unfollow = (userID) => {\n\treturn async (dispatch) => {\n\t\tfollowUnfollowFlow(\n\t\t\tdispatch,\n\t\t\tuserID,\n\t\t\tusersAPI.unfollow.bind(usersAPI),\n\t\t\tunfollowSuccess\n\t\t);\n\t};\n};\n\nexport default usersReducer;\n","import React, { useState } from \"react\";\nimport classes from \"./Paginator.module.css\";\n\nlet Paginator = ({\n\ttotalUsersCount,\n\tpageSize,\n\tonPageChanged,\n\tcurrentPage,\n\tportionSize = 10,\n}) => {\n\tlet pagesCount = Math.ceil(totalUsersCount / pageSize);\n\tlet pages = [];\n\tfor (let i = 1; i <= pagesCount; i++) {\n\t\tpages.push(i);\n\t}\n\n\tlet portionCount = Math.ceil(pagesCount / portionSize);\n\tlet [portionNumber, setPortionNumber] = useState(1);\n\tlet leftPortionBoundary = (portionNumber - 1) * portionSize + 1;\n\tlet rightPortionBoundary = portionNumber * portionSize;\n\n\treturn (\n\t\t<div className={classes.paginator}>\n\t\t\t{portionNumber > 1 && (\n\t\t\t\t<button\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tsetPortionNumber(portionNumber - 1);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\tPREV\n\t\t\t\t</button>\n\t\t\t)}\n\t\t\t{pages\n\t\t\t\t.filter(\n\t\t\t\t\t(page) => page >= leftPortionBoundary && page <= rightPortionBoundary\n\t\t\t\t)\n\t\t\t\t.map((page) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<span\n\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\tonPageChanged(page);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t(currentPage === page && classes.selectedPage) || classes.page\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tkey={page}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{page}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t{portionCount > portionNumber && (\n\t\t\t\t<button\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tsetPortionNumber(portionNumber + 1);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\tNEXT\n\t\t\t\t</button>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default Paginator;\n","import React from \"react\";\nimport classes from \"./Users.module.css\";\nimport userPhoto from \"../../assets/images/user.png\";\nimport { NavLink } from \"react-router-dom\";\n\nlet User = ({\nuser,\nfollowingInProgress,\nunfollow,\nfollow\n}) => {\n\treturn (\n\t\t<div className={classes.user}>\n\t\t\t<div className={classes.userAvatar}>\n\t\t\t\t<div>\n\t\t\t\t\t<NavLink to={\"/profile/\" + user.id}>\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc={user.photos.small != null ? user.photos.small : userPhoto}\n\t\t\t\t\t\t\talt=\"\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</NavLink>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t{user.followed ? (\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tdisabled={followingInProgress.some((id) => id === user.id)}\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tunfollow(user.id);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tUnfollow\n\t\t\t\t\t\t</button>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tdisabled={followingInProgress.some((id) => id === user.id)}\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tfollow(user.id);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tFollow\n\t\t\t\t\t\t</button>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className={classes.userInfo}>\n\t\t\t\t<div>\n\t\t\t\t\t<div className={classes.fullName}>{user.name}</div>\n\t\t\t\t\t<div className={classes.status}>{user.status}</div>\n\t\t\t\t</div>\n\t\t\t\t<div className={classes.location}>\n\t\t\t\t\t<div>{\"user.location.country\"}</div>\n\t\t\t\t\t<div>{\"user.location.cityName\"}</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default User;\n","import React from \"react\";\nimport Paginator from \"../common/paginator/Paginator\";\nimport User from \"./User\";\nimport classes from \"./Users.module.css\";\n\nlet Users = ({\n\tcurrentPage,\n\ttotalUsersCount,\n\tpageSize,\n\tonPageChanged,\n\tusers,\n\t...props\n}) => {\n\treturn (\n\t\t<div className={classes.mainContainer}>\n\t\t\t<Paginator\n\t\t\t\tcurrentPage={currentPage}\n\t\t\t\tonPageChanged={onPageChanged}\n\t\t\t\ttotalUsersCount={totalUsersCount}\n\t\t\t\tpageSize={pageSize}\n\t\t\t/>\n\t\t\t<div>\n\t\t\t\t{users.map((user) => (\n\t\t\t\t\t<User\n\t\t\t\t\t\tkey={user.id}\n\t\t\t\t\t\tuser={user}\n\t\t\t\t\t\tfollowingInProgress={props.followingInProgress}\n\t\t\t\t\t\tunfollow={props.unfollow}\n\t\t\t\t\t\tfollow={props.follow}\n\t\t\t\t\t/>\n\t\t\t\t))}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Users;\n","import { createSelector } from \"reselect\";\n\n//примитивный селектор\nexport const getUsersSelector = (state) => {\n\treturn state.usersPage.users;\n};\n\n//селектор, зависящий от примитивного\nexport const getUsers = createSelector(getUsersSelector, (users) => {\n\treturn users.filter((user) => true);\n});\n\nexport const getPageSize = (state) => {\n\treturn state.usersPage.pageSize;\n};\n\nexport const getTotalUsersCount = (state) => {\n\treturn state.usersPage.totalUsersCount;\n};\n\nexport const getCurrentPage = (state) => {\n\treturn state.usersPage.currentPage;\n};\n\nexport const getIsFetching = (state) => {\n\treturn state.usersPage.isFetching;\n};\n\nexport const getFollowingInProgress = (state) => {\n\treturn state.usersPage.followingInProgress;\n};\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport {\n\tfollow,\n\tunfollow,\n\tsetCurrentPage,\n\ttoggleIsFollowingInProgress,\n\trequestUsers,\n} from \"../../redux/usersReducer\";\nimport Users from \"./Users\";\nimport Preloader from \"../common/preloader/Preloader\";\nimport { compose } from \"redux\";\nimport {\n\tgetUsers,\n\tgetPageSize,\n\tgetTotalUsersCount,\n\tgetCurrentPage,\n\tgetIsFetching,\n\tgetFollowingInProgress,\n} from \"../../redux/usersSelectors\";\n\nclass UsersContainer extends React.Component {\n\tcomponentDidMount() {\n\t\tconst { currentPage, pageSize } = this.props;\n\t\tthis.props.requestUsers(currentPage, pageSize);\n\t}\n\n\tonPageChanged = (pageNumber) => {\n\t\tconst { pageSize } = this.props;\n\n\t\tthis.props.requestUsers(pageNumber, pageSize);\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{this.props.isFetching ? <Preloader /> : null}\n\n\t\t\t\t<Users\n\t\t\t\t\ttotalUsersCount={this.props.totalUsersCount}\n\t\t\t\t\tpageSize={this.props.pageSize}\n\t\t\t\t\tcurrentPage={this.props.currentPage}\n\t\t\t\t\tonPageChanged={this.onPageChanged}\n\t\t\t\t\tusers={this.props.users}\n\t\t\t\t\tfollow={this.props.follow}\n\t\t\t\t\tunfollow={this.props.unfollow}\n\t\t\t\t\tfollowingInProgress={this.props.followingInProgress}\n\t\t\t\t/>\n\t\t\t</>\n\t\t);\n\t}\n}\n\nlet mapStateToProps = (state) => {\n\treturn {\n\t\tusers: getUsers(state),\n\t\tpageSize: getPageSize(state),\n\t\ttotalUsersCount: getTotalUsersCount(state),\n\t\tcurrentPage: getCurrentPage(state),\n\t\tisFetching: getIsFetching(state),\n\t\tfollowingInProgress: getFollowingInProgress(state),\n\t};\n};\n\nexport default compose(\n\tconnect(mapStateToProps, {\n\t\tfollow,\n\t\tunfollow,\n\t\tsetCurrentPage,\n\t\ttoggleIsFollowingInProgress,\n\t\trequestUsers,\n\t})\n)(UsersContainer);\n","import React from \"react\";\nimport classes from \"./Header.module.css\";\nimport { NavLink } from \"react-router-dom\";\n\nconst Header = (props) => {\n\treturn (\n\t\t<header className={classes.header}>\n\t\t\t<img\n\t\t\t\tsrc=\"https://cdn4.iconfinder.com/data/icons/free-red-social-media-icons/744/social_media_social_network_photos_logo_logotype_logos_instagram_pictures_red-512.png\"\n\t\t\t\talt=\"logo\"\n\t\t\t/>\n\t\t\t<div className={classes.loginBlock}>\n\t\t\t\t{props.isAuth ? (\n\t\t\t\t\t<div className={classes.loginInfo}>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t{props.login} - <button onClick={props.logout}>Logout</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<img src={props.userImg} alt=\"ava\" />\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t<NavLink to={\"/login\"}>Login</NavLink>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</header>\n\t);\n};\n\nexport default Header;\n","import { authAPI } from \"../api/api\";\nimport { stopSubmit } from \"redux-form\";\n\nconst SET_AUTH_USER_DATA = \"auth/SET_AUTH_USER_DATA\";\n\nlet initialState = {\n\tuserId: null,\n\temail: null,\n\tlogin: null,\n\tisAuth: false,\n\tuserImg: null,\n};\n\nconst authReducer = (state = initialState, action) => {\n\tswitch (action.type) {\n\t\tcase SET_AUTH_USER_DATA:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t...action.payload,\n\t\t\t};\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n\nexport const setAuthUserData = (userId, email, login, isAuth, userImg) => ({\n\ttype: \"auth/SET_AUTH_USER_DATA\",\n\tpayload: {\n\t\tuserId,\n\t\temail,\n\t\tlogin,\n\t\tisAuth,\n\t\tuserImg,\n\t},\n});\n\nexport const getAuthUserData = () => async (dispatch) => {\n\tlet response = await authAPI.me();\n\tif (response.data.resultCode === 0) {\n\t\tlet { id, login, email } = response.data.data;\n\t\tdispatch(setAuthUserData(id, email, login, true));\n\t\tauthAPI.profile(id).then((response) => {\n\t\t\tlet userImg = response.data.photos.small;\n\t\t\tdispatch(setAuthUserData(id, email, login, true, userImg));\n\t\t});\n\t}\n\treturn response;\n};\n\nexport const login = (email, password, rememberMe) => async (dispatch) => {\n\tlet response = await authAPI.login(email, password, rememberMe);\n\tif (response.data.resultCode === 0) {\n\t\tdispatch(getAuthUserData());\n\t} else {\n\t\tlet message =\n\t\t\tresponse.data.messages.length > 0 ? response.data.messages[0] : \"Error\";\n\t\tdispatch(stopSubmit(\"login\", { _error: message }));\n\t}\n};\n\nexport const logout = () => async (dispatch) => {\n\tlet response = await authAPI.logout();\n\tif (response.data.resultCode === 0) {\n\t\tdispatch(setAuthUserData(null, null, null, false, null));\n\t}\n};\n\nexport default authReducer;\n","import React from \"react\";\nimport Header from \"./Header\";\nimport { connect } from \"react-redux\";\nimport { logout } from \"../../redux/authReducer\";\n\nclass HeaderContainer extends React.Component {\n\n\trender() {\n\t\treturn <Header {...this.props} />;\n\t}\n}\n\nconst mapStateToProps = (state) => ({\n\tisAuth: state.auth.isAuth,\n\tlogin: state.auth.login,\n});\nexport default connect(mapStateToProps, { logout })(HeaderContainer);\n","import React from \"react\";\nimport { Field, reduxForm } from \"redux-form\";\nimport { Input, CreateField } from \"../common/formsControls/FormsControls\";\nimport { required } from \"../../utils/validators/validators\";\nimport { connect } from \"react-redux\";\nimport { login } from \"../../redux/authReducer\";\nimport { Redirect } from \"react-router-dom\";\nimport classes from \"./../common/formsControls/FormsControls.module.css\";\n\nconst LoginForm = ({ handleSubmit, error }) => {\n\treturn (\n\t\t<form onSubmit={handleSubmit}>\n\t\t\t{CreateField(\"Email\", \"email\", [required], Input)}\n\t\t\t{CreateField(\"Password\", \"password\", [required], Input, { type: \"password\" })}\n\t\t\t{CreateField(\n\t\t\t\tnull,\n\t\t\t\t\"rememberMe\",\n\t\t\t\tnull,\n\t\t\t\tInput,\n\t\t\t\t{ type: \"checkbox\" },\n\t\t\t\t\"remember me\"\n\t\t\t)}\n\n\t\t\t<div>\n\t\t\t\t<button>Login</button>\n\t\t\t</div>\n\t\t\t{error && <div className={classes.formSummaryError}>{error}</div>}\n\t\t</form>\n\t);\n};\n\nconst LoginReduxForm = reduxForm({\n\tform: \"login\",\n})(LoginForm);\n\nconst Login = (props) => {\n\tconst onSubmit = (formData) => {\n\t\tprops.login(formData.email, formData.password, formData.rememberMe);\n\t};\n\n\tif (props.isAuth) {\n\t\treturn <Redirect to={\"/profile\"} />;\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<h1>Login</h1>\n\t\t\t<LoginReduxForm onSubmit={onSubmit} />\n\t\t</div>\n\t);\n};\n\nconst mapStateToProps = (state) => ({\n\tisAuth: state.auth.isAuth,\n});\n\nexport default connect(mapStateToProps, { login })(Login);\n","import { getAuthUserData } from \"./authReducer\";\n\nconst INITIALIZED_SUCCESS = \"INITIALIZED_SUCCESS\";\n\nlet initialState = {\n\tinitialized: false,\n};\n\nconst appReducer = (state = initialState, action) => {\n\tswitch (action.type) {\n\t\tcase INITIALIZED_SUCCESS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tinitialized: true,\n\t\t\t};\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n\nexport const initializedSuccess = () => ({\n\ttype: \"INITIALIZED_SUCCESS\",\n});\n\nexport const initializeApp = () => (dispatch) => {\n\tlet promise = dispatch(getAuthUserData());\n\t\n\tpromise.then(() => {\n\t\tdispatch(initializedSuccess());\n\t});\n};\n\nexport default appReducer;\n","let initialState = {};\n\nconst sidebarReducer = (state = initialState, action) => {\n\treturn state;\n};\n\nexport default sidebarReducer;\n","import { createStore, combineReducers, applyMiddleware, compose } from \"redux\";\nimport profileReducer from \"./profileReducer\";\nimport dialogsReducer from \"./dialogsReducer\";\nimport sidebarReducer from \"./sidebarReducer\";\nimport usersReducer from \"./usersReducer\";\nimport authReducer from \"./authReducer\";\nimport thunkMiddleware from \"redux-thunk\";\nimport { reducer as formReducer } from \"redux-form\";\nimport appReducer from \"./appReducer\";\n\nlet reducers = combineReducers({\n\tprofilePage: profileReducer,\n\tdialogsPage: dialogsReducer,\n\tsideBar: sidebarReducer,\n\tusersPage: usersReducer,\n\tauth: authReducer,\n\tform: formReducer,\n\tapp: appReducer,\n});\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(\n\treducers,\n\tcomposeEnhancers(applyMiddleware(thunkMiddleware))\n);\n\n// let store = createStore(reducers, applyMiddleware(thunkMiddleware));\nwindow.__store__ = store;\n\nexport default store;\n","import React, { Suspense } from \"react\";\nimport Preloader from \"../components/common/preloader/Preloader\";\n\nexport const withSuspense = (Component) => {\n\treturn (props) => {\n\t\treturn (\n\t\t\t<Suspense fallback={<Preloader />}>\n\t\t\t\t<Component {...props} />\n\t\t\t</Suspense>\n\t\t);\n\t};\n};\n","import React, { Suspense } from \"react\";\nimport \"./App.css\";\nimport Navbar from \"./components/Navbar/Navbar\";\nimport UsersContainer from \"./components/Users/UsersContainer\";\nimport { Route, withRouter } from \"react-router-dom\";\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport LoginPage from \"./components/Login/Login\";\nimport { initializeApp } from \"../src/redux/appReducer\";\nimport { connect } from \"react-redux\";\nimport { compose } from \"redux\";\nimport Preloader from \"./components/common/preloader/Preloader\";\nimport store from \"./redux/reduxStore\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport { Provider } from \"react-redux\";\nimport { withSuspense } from \"./hoc/withSuspense\";\nconst DialogsContainer = React.lazy(() =>\n\timport(\"./components/Dialogs/DialogsContainer\")\n);\nconst ProfileContainer = React.lazy(() =>\n\timport(\"./components/Profile/ProfileContainer\")\n);\n\nclass App extends React.Component {\n\tcomponentDidMount() {\n\t\tthis.props.initializeApp();\n\t}\n\n\trender() {\n\t\tif (!this.props.initialized) {\n\t\t\treturn <Preloader />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div className=\"app-wrapper\">\n\t\t\t\t<HeaderContainer />\n\t\t\t\t<Navbar />\n\t\t\t\t<div className=\"app-wrapper-content\">\n\t\t\t\t\t<Route\n\t\t\t\t\t\tpath=\"/profile/:userId?\"\n\t\t\t\t\t\trender={withSuspense(ProfileContainer)}\n\t\t\t\t\t/>\n\t\t\t\t\t<Route\n\t\t\t\t\t\tpath=\"/dialogs\"\n\t\t\t\t\t\trender={withSuspense(DialogsContainer)}\n\t\t\t\t\t/>\n\t\t\t\t\t<Route path=\"/users\" render={() => <UsersContainer />} />\n\t\t\t\t\t<Route path=\"/login\" render={() => <LoginPage />} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => ({\n\tinitialized: state.app.initialized,\n});\n\nlet AppContainer = compose(\n\twithRouter,\n\tconnect(mapStateToProps, { initializeApp })\n)(App);\n\nconst MainApp = (props) => {\n\treturn (\n\t\t<BrowserRouter>\n\t\t\t<Provider store={store}>\n\t\t\t\t<AppContainer />\n\t\t\t</Provider>\n\t\t</BrowserRouter>\n\t);\n};\n\nexport default MainApp;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport \"./index.css\";\nimport MainApp from \"./App\";\n\nReactDOM.render(<MainApp />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import React from \"react\";\nimport classes from \"./FormsControls.module.css\";\nimport { Field } from \"redux-form\";\n\nconst FormControl = ({ input, meta:{touched,error}, children }) => {\n\tconst hasError = touched && error;\n\treturn (\n\t\t<div\n\t\t\tclassName={classes.formControl + \" \" + (hasError ? classes.error : \"\")}\n\t\t>\n\t\t\t<div>{children}</div>\n\t\t\t{hasError && <span>{error}</span>}\n\t\t</div>\n\t);\n};\n\nexport const Textarea = (props) => {\n\tconst { input, meta, ...restProps } = props;\n\treturn (\n\t\t<FormControl {...props}>\n\t\t\t<textarea {...input} {...restProps} />\n\t\t</FormControl>\n\t);\n};\n\nexport const Input = (props) => {\n\tconst { input, meta, ...restProps } = props;\n\treturn (\n\t\t<FormControl {...props}>\n\t\t\t<input {...input} {...restProps} />\n\t\t</FormControl>\n\t);\n};\n\nexport const CreateField = (placeholder, name, validators, component, props={}, text=\"\") => (\n\t<div>\n\t\t<Field\n\t\t\tplaceholder={placeholder}\n\t\t\tname={name}\n\t\t\tvalidate={validators}\n\t\t\tcomponent={component}\n\t\t\t{...props}\n\t\t/>{text}\n\t</div>\n);\n","import React from \"react\";\nimport classes from \"./Preloader.module.css\";\nlet Preloader = (props) => {\n\treturn (\n\t\t<div className={classes.ldsSpinner + ' '+classes.preloader}>\n\t\t\t<div></div>\n\t\t\t<div></div>\n\t\t\t<div></div>\n\t\t\t<div></div>\n\t\t\t<div></div>\n\t\t\t<div></div>\n\t\t\t<div></div>\n\t\t\t<div></div>\n\t\t\t<div></div>\n\t\t\t<div></div>\n\t\t\t<div></div>\n\t\t\t<div></div>\n\t\t</div>\n\t);\n};\n\nexport default Preloader;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__3eBJr\",\"error\":\"FormsControls_error__hc4ys\",\"formSummaryError\":\"FormsControls_formSummaryError__1_rH1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectedPage\":\"Paginator_selectedPage__bOFQE\",\"page\":\"Paginator_page__eFKaM\",\"paginator\":\"Paginator_paginator__3xi11\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1VCKf\",\"loginBlock\":\"Header_loginBlock__6mma5\",\"loginInfo\":\"Header_loginInfo__3W_24\"};","export const required = (value) => {\n\tif (value) return undefined;\n\treturn \"Field is required\";\n};\n\nexport const maxLengthCreator = (maxLength) => (value)=>{\n\tif (value.length>maxLength) return `Max length is ${maxLength} symbols`;\n\treturn undefined;\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ldsSpinner\":\"Preloader_ldsSpinner__2RmGH\",\"preloader\":\"Preloader_preloader__2G3Hk\"};","import { usersAPI, profileAPI } from \"../api/api\";\n\nconst ADD_POST = \"ADD-POST\";\nconst SET_USER_PROFILE = \"SET_USER_PROFILE\";\nconst SET_STATUS = \"SET_STATUS\";\nconst DELETE_POST = \"DELETE_POST\";\n\nlet initialState = {\n\tposts: [\n\t\t{ id: 1, message: \"Hi, how are you?\", likeCounts: 12 },\n\t\t{ id: 2, message: \"It's my first post!\", likeCounts: 5 },\n\t],\n\tprofile: null,\n\tstatus: \"\",\n};\n\nconst profileReducer = (state = initialState, action) => {\n\tswitch (action.type) {\n\t\tcase ADD_POST: {\n\t\t\tlet newPost = {\n\t\t\t\tid: 5,\n\t\t\t\tmessage: action.newPostText,\n\t\t\t\tlikeCounts: 0,\n\t\t\t};\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tposts: [...state.posts, newPost],\n\t\t\t};\n\t\t}\n\t\tcase SET_USER_PROFILE:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tprofile: action.profile,\n\t\t\t};\n\t\tcase SET_STATUS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tstatus: action.status,\n\t\t\t};\n\t\tcase DELETE_POST:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tposts: state.posts.filter((post) => post.id !== action.postId),\n\t\t\t};\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n\nexport const addPostActionCreator = (newPostText) => ({\n\ttype: ADD_POST,\n\tnewPostText,\n});\n\nexport const deletePost = (postId) => ({\n\ttype: DELETE_POST,\n\tpostId,\n});\n\nexport const setUserProfile = (profile) => ({\n\ttype: SET_USER_PROFILE,\n\tprofile,\n});\nexport const setStatus = (status) => ({\n\ttype: SET_STATUS,\n\tstatus,\n});\n\nexport const getUserProfile = (userId) => async (dispatch) => {\n\tconst response = await usersAPI.getProfile(userId);\n\tdispatch(setUserProfile(response.data));\n};\nexport const getStatus = (userId) => async (dispatch) => {\n\tconst response = await profileAPI.getStatus(userId);\n\tdispatch(setStatus(response.data));\n};\nexport const updateStatus = (status) => async (dispatch) => {\n\tconst response = await profileAPI.updateStatus(status);\n\tif (response.data.resultCode === 0) {\n\t\tdispatch(setStatus(status));\n\t}\n};\n\nexport default profileReducer;\n"],"sourceRoot":""}